<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è - CHI AUTO</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
        <a href="/" class="btn-back">
            <i class='bx bx-arrow-back'></i>
            –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É
        </a>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="car-card">
            <div class="car-image">
                <img src="{{ url_for('static', filename='images/toyota_corolla.jpg') }}" alt="Toyota Corolla Fielder">
            </div>
            <div class="car-info">
                <h3>Toyota Corolla Fielder</h3>
                <p class="year">2006 –≥.</p>

                <div class="price-section">
                    <div class="price-row">
                        <span>–¶–µ–Ω–∞ –Ω–∞ —Å—É—Ç–∫–∏</span>
                        <span class="price">2 500 ‚ÇΩ</span>
                    </div>
                </div>

                <div class="availability available">–í –Ω–∞–ª–∏—á–∏–∏</div>
            </div>

            <div class="actions">
                <button class="btn-rent" onclick="openRentModal('Toyota Corolla Fielder')">–ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å</button>
            </div>
        </div>

        <!-- –¢–∞–±—ã –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤ -->
        <div class="car-detail-tabs">
            <button class="car-tab active" onclick="openTab('info')">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</button>
            <button class="car-tab" onclick="openTab('photos')">–§–æ—Ç–æ</button>
            <button class="car-tab" onclick="openTab('videos')">–í–∏–¥–µ–æ</button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
        <div id="info" class="tab-content active">
            <div class="detail-specs">
                <div class="spec-group">
                    <h4>–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h4>
                    <div class="spec-row">
                        <span class="spec-label">–ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å</span>
                        <span class="spec-value">Toyota Corolla Fielder</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</span>
                        <span class="spec-value">2006</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ü—Ä–æ–±–µ–≥</span>
                        <span class="spec-value">317 000 –∫–º</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–°–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                        <span class="spec-value">–û—Ç–ª–∏—á–Ω–æ–µ</span>
                    </div>
                </div>

                <div class="spec-group">
                    <h4>–î–≤–∏–≥–∞—Ç–µ–ª—å –∏ —Ç—Ä–∞–Ω—Å–º–∏—Å—Å–∏—è</h4>
                    <div class="spec-row">
                        <span class="spec-label">–î–≤–∏–≥–∞—Ç–µ–ª—å</span>
                        <span class="spec-value">1.5L –ë–µ–Ω–∑–∏–Ω</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ú–æ—â–Ω–æ—Å—Ç—å</span>
                        <span class="spec-value">110 –ª.—Å.</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á</span>
                        <span class="spec-value">–ê–ö–ü–ü</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ü—Ä–∏–≤–æ–¥</span>
                        <span class="spec-value">–ü–µ—Ä–µ–¥–Ω–∏–π</span>
                    </div>
                </div>

                <div class="spec-group">
                    <h4>–≠–∫—Å—Ç–µ—Ä—å–µ—Ä –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä</h4>
                    <div class="spec-row">
                        <span class="spec-label">–¢–∏–ø –∫—É–∑–æ–≤–∞</span>
                        <span class="spec-value">–£–Ω–∏–≤–µ—Ä—Å–∞–ª</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–¶–≤–µ—Ç</span>
                        <span class="spec-value">–°–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ä—É–ª—è</span>
                        <span class="spec-value">–ü—Ä–∞–≤—ã–π</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç</span>
                        <span class="spec-value">5</span>
                    </div>
                </div>

                <div class="spec-group">
                    <h4>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h4>
                    <div class="spec-row">
                        <span class="spec-label">–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä</span>
                        <span class="spec-value">–ï—Å—Ç—å</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ö–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å</span>
                        <span class="spec-value">–ù–µ—Ç</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–ö—Ä—É–∏–∑-–∫–æ–Ω—Ç—Ä–æ–ª—å</span>
                        <span class="spec-value">–ï—Å—Ç—å</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">–®–∏–Ω—ã</span>
                        <span class="spec-value">–ó–∏–º–Ω–∏–µ</span>
                    </div>
                </div>
            </div>

            <div class="detail-specs">
                <h4 style="color: #3b82f6; margin-bottom: 15px;">–û–ø–∏—Å–∞–Ω–∏–µ</h4>
                <p style="color: #cbd5e1; line-height: 1.6;">
                    Toyota Corolla Fielder 2006 –≥–æ–¥–∞ –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
                    –ê–≤—Ç–æ–º–æ–±–∏–ª—å –ø—Ä–æ—à–µ–ª –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –≥–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.
                    –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞, –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Å–∞–ª–æ–Ω, –ø—Ä–æ—Å—Ç–æ—Ä–Ω—ã–π –±–∞–≥–∞–∂–Ω–∏–∫.
                    –ò–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–æ–µ–∑–¥–æ–∫ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.
                </p>
            </div>
        </div>

        <div id="photos" class="tab-content">
            <div class="photos-grid">
                <div class="photo-item">
                    <img src="{{ url_for('static', filename='images/toyota_corolla.jpg') }}" alt="Toyota Corolla Fielder –≤–∏–¥ —Å–ø–µ—Ä–µ–¥–∏">
                </div>
                <div class="photo-item">
                    <img src="{{ url_for('static', filename='images/toyota_interior.jpg') }}" alt="–°–∞–ª–æ–Ω Toyota Corolla">
                </div>
                <div class="photo-item">
                    <img src="{{ url_for('static', filename='images/toyota_back.jpg') }}" alt="Toyota Corolla –≤–∏–¥ —Å–∑–∞–¥–∏">
                </div>
                <div class="photo-item">
                    <img src="{{ url_for('static', filename='images/toyota_dashboard.jpg') }}" alt="–ü—Ä–∏–±–æ—Ä–Ω–∞—è –ø–∞–Ω–µ–ª—å">
                </div>
            </div>
            <p style="text-align: center; color: #94a3b8; font-style: italic;">
                –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ñ–æ—Ç–æ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
            </p>
        </div>

        <div id="videos" class="tab-content">
    <div class="videos-list">
        <!-- –í–∏–¥–µ–æ 1 -->
        <div class="video-item">
            <h4 style="color: white; margin-bottom: 10px;">üìπ –û–±–∑–æ—Ä Toyota Corolla Fielder</h4>
            <div class="video-container">
                <video
                    id="carVideo1"
                    controls
                    preload="metadata"
                    style="width: 100%; height: 100%; border-radius: 12px;"
                    poster="{{ url_for('static', filename='images/video_preview_1.jpg') }}">
                    <source src="{{ url_for('static', filename='videos/toyota_corolla/review.mp4') }}" type="video/mp4">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                </video>
                <div class="video-loader" id="videoLoader1">
                    <i class='bx bx-loader-alt bx-spin'></i>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–∑–æ—Ä–∞...</p>
                </div>
            </div>
            <p style="color: #94a3b8; font-size: 14px; margin-top: 8px;">
                –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π —ç–∫—Å—Ç–µ—Ä—å–µ—Ä–∞ –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞
            </p>
        </div>

        <!-- –í–∏–¥–µ–æ 2 -->
        <div class="video-item">
            <h4 style="color: white; margin-bottom: 10px;">üöó –¢–µ—Å—Ç-–¥—Ä–∞–π–≤ –ø–æ –≥–æ—Ä–æ–¥—É</h4>
            <div class="video-container">
                <video
                    id="carVideo2"
                    controls
                    preload="metadata"
                    style="width: 100%; height: 100%; border-radius: 12px;"
                    poster="{{ url_for('static', filename='images/video_preview_2.jpg') }}">
                    <source src="{{ url_for('static', filename='videos/toyota_corolla/test_drive.mp4') }}" type="video/mp4">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                </video>
                <div class="video-loader" id="videoLoader2">
                    <i class='bx bx-loader-alt bx-spin'></i>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–∞...</p>
                </div>
            </div>
            <p style="color: #94a3b8; font-size: 14px; margin-top: 8px;">
                –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–µ–∑–¥ –ø–æ –≥–æ—Ä–æ–¥—Å–∫–∏–º –¥–æ—Ä–æ–≥–∞–º –ò—Ä–∫—É—Ç—Å–∫–∞
            </p>
        </div>

        <!-- –í–∏–¥–µ–æ 3 -->
        <div class="video-item">
            <h4 style="color: white; margin-bottom: 10px;">üîß –û–±–∑–æ—Ä —Å–∞–ª–æ–Ω–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–π</h4>
            <div class="video-container">
                <video
                    id="carVideo3"
                    controls
                    preload="metadata"
                    style="width: 100%; height: 100%; border-radius: 12px;"
                    poster="{{ url_for('static', filename='images/video_preview_3.jpg') }}">
                    <source src="{{ url_for('static', filename='videos/toyota_corolla/interior.mp4') }}" type="video/mp4">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                </video>
                <div class="video-loader" id="videoLoader3">
                    <i class='bx bx-loader-alt bx-spin'></i>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–∑–æ—Ä–∞ —Å–∞–ª–æ–Ω–∞...</p>
                </div>
            </div>
            <p style="color: #94a3b8; font-size: 14px; margin-top: 8px;">
                –î–µ—Ç–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            </p>
        </div>
    </div>
</div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
    <div id="modalContainer"></div>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ
        function showVideoLoader() {
            const loader = document.getElementById('videoLoader');
            if (loader) {
                loader.style.display = 'block';
            }
        }

        function hideVideoLoader() {
            const loader = document.getElementById('videoLoader');
            if (loader) {
                loader.style.display = 'none';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–∞–±–æ–≤
        function openTab(tabName) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Ç–∞–±—ã
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            const tabButtons = document.getElementsByClassName('car-tab');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞–± –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');

            // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –≤–∫–ª–∞–¥–∫—É —Å –≤–∏–¥–µ–æ - –∑–∞–≥—Ä—É–∂–∞–µ–º –≤–∏–¥–µ–æ
            if (tabName === 'videos') {
                const video = document.getElementById('carVideo');
                if (video) {
                    showVideoLoader();
                    video.load();

                    // –ñ–¥–µ–º –ø–æ–∫–∞ –≤–∏–¥–µ–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å
                    video.oncanplay = function() {
                        hideVideoLoader();
                    };

                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
                    video.onerror = function() {
                        hideVideoLoader();
                        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ');
                    };
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        async function openRentModal(carName) {
            try {
                const response = await fetch('/rent-modal');
                const html = await response.text();
                document.getElementById('modalContainer').innerHTML = html;
                document.getElementById('selectedCar').textContent = carName;
                document.getElementById('rentModal').style.display = 'flex';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:', error);
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('rentModal');
            if (modal && event.target === modal) {
                modal.style.display = 'none';
            }
        });

        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.getElementById('carVideo');
            if (video) {
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                video.addEventListener('loadstart', showVideoLoader);
                video.addEventListener('canplay', hideVideoLoader);
                video.addEventListener('error', hideVideoLoader);

                // –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
                video.preload = 'metadata';
            }
        });
    </script>
</body>
</html>